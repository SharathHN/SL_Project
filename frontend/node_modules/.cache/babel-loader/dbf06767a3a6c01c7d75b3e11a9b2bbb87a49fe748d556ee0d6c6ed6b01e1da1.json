{"ast":null,"code":"var _jsxFileName = \"/home/sharath/Documents/CS699/final_project/SL_Project/frontend/src/components/Appointments/ScheduleAppointment.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction RequestAppointment() {\n  _s();\n  const [specializations, setSpecializations] = useState([]);\n  const [selectedSpecialization, setSelectedSpecialization] = useState('');\n  const [doctors, setDoctors] = useState([]);\n  const [selectedDoctor, setSelectedDoctor] = useState('');\n  const [appointmentDate, setAppointmentDate] = useState('');\n  const [notes, setNotes] = useState('');\n  const [message, setMessage] = useState('');\n\n  // Fetch all specializations on component mount\n  useEffect(() => {\n    fetchSpecializations();\n  }, []);\n  const fetchSpecializations = async () => {\n    try {\n      const response = await fetch('http://127.0.0.1:5000/api/specializations');\n      const data = await response.json();\n      setSpecializations(data.specializations);\n    } catch (error) {\n      console.error('Error fetching specializations:', error);\n    }\n  };\n  const fetchDoctors = async specialization => {\n    try {\n      const response = await fetch(`http://127.0.0.1:5000/api/doctors?specialization=${specialization}`);\n      const data = await response.json();\n      setDoctors(data.doctors);\n    } catch (error) {\n      console.error('Error fetching doctors:', error);\n    }\n  };\n  const handleSpecializationChange = e => {\n    const specialization = e.target.value;\n    setSelectedSpecialization(specialization);\n    setDoctors([]); // Reset doctors when specialization changes\n    fetchDoctors(specialization); // Fetch doctors for the selected specialization\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    try {\n      const response = await fetch('http://127.0.0.1:5000/api/request-appointment', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          doctor_id: selectedDoctor,\n          patient_id: 1,\n          // Replace with the actual logged-in patient ID\n          appointment_date: appointmentDate,\n          notes: notes\n        })\n      });\n      if (response.ok) {\n        setMessage('Appointment requested successfully!');\n      } else {\n        const errorData = await response.json();\n        setMessage(errorData.message || 'Failed to request appointment.');\n      }\n    } catch (error) {\n      console.error('Error requesting appointment:', error);\n      setMessage('An error occurred. Please try again.');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Request Appointment\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }, this), message && /*#__PURE__*/_jsxDEV(\"p\", {\n      children: message\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 19\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Specialization:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          value: selectedSpecialization,\n          onChange: handleSpecializationChange,\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"\",\n            children: \"Select a specialization\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 13\n          }, this), specializations.map(spec => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: spec,\n            children: spec\n          }, spec, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 15\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Doctor:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          value: selectedDoctor,\n          onChange: e => setSelectedDoctor(e.target.value),\n          disabled: !selectedSpecialization,\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"\",\n            children: \"Select a doctor\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 13\n          }, this), doctors.map(doc => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: doc.id,\n            children: doc.name\n          }, doc.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 15\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Appointment Date:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"datetime-local\",\n          value: appointmentDate,\n          onChange: e => setAppointmentDate(e.target.value),\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Notes:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          value: notes,\n          onChange: e => setNotes(e.target.value),\n          placeholder: \"Add any additional notes\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        disabled: !selectedDoctor || !appointmentDate,\n        children: \"Request Appointment\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 73,\n    columnNumber: 5\n  }, this);\n}\n_s(RequestAppointment, \"Me/cQdpDDR8/xXKutx1OdD6GHAU=\");\n_c = RequestAppointment;\nexport default RequestAppointment;\nvar _c;\n$RefreshReg$(_c, \"RequestAppointment\");","map":{"version":3,"names":["React","useState","useEffect","jsxDEV","_jsxDEV","RequestAppointment","_s","specializations","setSpecializations","selectedSpecialization","setSelectedSpecialization","doctors","setDoctors","selectedDoctor","setSelectedDoctor","appointmentDate","setAppointmentDate","notes","setNotes","message","setMessage","fetchSpecializations","response","fetch","data","json","error","console","fetchDoctors","specialization","handleSpecializationChange","e","target","value","handleSubmit","preventDefault","method","headers","body","JSON","stringify","doctor_id","patient_id","appointment_date","ok","errorData","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","onChange","map","spec","disabled","doc","id","name","type","required","placeholder","_c","$RefreshReg$"],"sources":["/home/sharath/Documents/CS699/final_project/SL_Project/frontend/src/components/Appointments/ScheduleAppointment.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\n\nfunction RequestAppointment() {\n  const [specializations, setSpecializations] = useState([]);\n  const [selectedSpecialization, setSelectedSpecialization] = useState('');\n  const [doctors, setDoctors] = useState([]);\n  const [selectedDoctor, setSelectedDoctor] = useState('');\n  const [appointmentDate, setAppointmentDate] = useState('');\n  const [notes, setNotes] = useState('');\n  const [message, setMessage] = useState('');\n\n  // Fetch all specializations on component mount\n  useEffect(() => {\n    fetchSpecializations();\n  }, []);\n\n  const fetchSpecializations = async () => {\n    try {\n      const response = await fetch('http://127.0.0.1:5000/api/specializations');\n      const data = await response.json();\n      setSpecializations(data.specializations);\n    } catch (error) {\n      console.error('Error fetching specializations:', error);\n    }\n  };\n\n  const fetchDoctors = async (specialization) => {\n    try {\n      const response = await fetch(`http://127.0.0.1:5000/api/doctors?specialization=${specialization}`);\n      const data = await response.json();\n      setDoctors(data.doctors);\n    } catch (error) {\n      console.error('Error fetching doctors:', error);\n    }\n  };\n\n  const handleSpecializationChange = (e) => {\n    const specialization = e.target.value;\n    setSelectedSpecialization(specialization);\n    setDoctors([]); // Reset doctors when specialization changes\n    fetchDoctors(specialization); // Fetch doctors for the selected specialization\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    try {\n      const response = await fetch('http://127.0.0.1:5000/api/request-appointment', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({\n          doctor_id: selectedDoctor,\n          patient_id: 1, // Replace with the actual logged-in patient ID\n          appointment_date: appointmentDate,\n          notes: notes,\n        }),\n      });\n\n      if (response.ok) {\n        setMessage('Appointment requested successfully!');\n      } else {\n        const errorData = await response.json();\n        setMessage(errorData.message || 'Failed to request appointment.');\n      }\n    } catch (error) {\n      console.error('Error requesting appointment:', error);\n      setMessage('An error occurred. Please try again.');\n    }\n  };\n\n  return (\n    <div>\n      <h2>Request Appointment</h2>\n      {message && <p>{message}</p>}\n      <form onSubmit={handleSubmit}>\n        <div>\n          <label>Specialization:</label>\n          <select value={selectedSpecialization} onChange={handleSpecializationChange}>\n            <option value=\"\">Select a specialization</option>\n            {specializations.map((spec) => (\n              <option key={spec} value={spec}>\n                {spec}\n              </option>\n            ))}\n          </select>\n        </div>\n\n        <div>\n          <label>Doctor:</label>\n          <select\n            value={selectedDoctor}\n            onChange={(e) => setSelectedDoctor(e.target.value)}\n            disabled={!selectedSpecialization}\n          >\n            <option value=\"\">Select a doctor</option>\n            {doctors.map((doc) => (\n              <option key={doc.id} value={doc.id}>\n                {doc.name}\n              </option>\n            ))}\n          </select>\n        </div>\n\n        <div>\n          <label>Appointment Date:</label>\n          <input\n            type=\"datetime-local\"\n            value={appointmentDate}\n            onChange={(e) => setAppointmentDate(e.target.value)}\n            required\n          />\n        </div>\n\n        <div>\n          <label>Notes:</label>\n          <textarea\n            value={notes}\n            onChange={(e) => setNotes(e.target.value)}\n            placeholder=\"Add any additional notes\"\n          />\n        </div>\n\n        <button type=\"submit\" disabled={!selectedDoctor || !appointmentDate}>\n          Request Appointment\n        </button>\n      </form>\n    </div>\n  );\n}\n\nexport default RequestAppointment;\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEnD,SAASC,kBAAkBA,CAAA,EAAG;EAAAC,EAAA;EAC5B,MAAM,CAACC,eAAe,EAAEC,kBAAkB,CAAC,GAAGP,QAAQ,CAAC,EAAE,CAAC;EAC1D,MAAM,CAACQ,sBAAsB,EAAEC,yBAAyB,CAAC,GAAGT,QAAQ,CAAC,EAAE,CAAC;EACxE,MAAM,CAACU,OAAO,EAAEC,UAAU,CAAC,GAAGX,QAAQ,CAAC,EAAE,CAAC;EAC1C,MAAM,CAACY,cAAc,EAAEC,iBAAiB,CAAC,GAAGb,QAAQ,CAAC,EAAE,CAAC;EACxD,MAAM,CAACc,eAAe,EAAEC,kBAAkB,CAAC,GAAGf,QAAQ,CAAC,EAAE,CAAC;EAC1D,MAAM,CAACgB,KAAK,EAAEC,QAAQ,CAAC,GAAGjB,QAAQ,CAAC,EAAE,CAAC;EACtC,MAAM,CAACkB,OAAO,EAAEC,UAAU,CAAC,GAAGnB,QAAQ,CAAC,EAAE,CAAC;;EAE1C;EACAC,SAAS,CAAC,MAAM;IACdmB,oBAAoB,CAAC,CAAC;EACxB,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMA,oBAAoB,GAAG,MAAAA,CAAA,KAAY;IACvC,IAAI;MACF,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,2CAA2C,CAAC;MACzE,MAAMC,IAAI,GAAG,MAAMF,QAAQ,CAACG,IAAI,CAAC,CAAC;MAClCjB,kBAAkB,CAACgB,IAAI,CAACjB,eAAe,CAAC;IAC1C,CAAC,CAAC,OAAOmB,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,iCAAiC,EAAEA,KAAK,CAAC;IACzD;EACF,CAAC;EAED,MAAME,YAAY,GAAG,MAAOC,cAAc,IAAK;IAC7C,IAAI;MACF,MAAMP,QAAQ,GAAG,MAAMC,KAAK,CAAC,oDAAoDM,cAAc,EAAE,CAAC;MAClG,MAAML,IAAI,GAAG,MAAMF,QAAQ,CAACG,IAAI,CAAC,CAAC;MAClCb,UAAU,CAACY,IAAI,CAACb,OAAO,CAAC;IAC1B,CAAC,CAAC,OAAOe,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,yBAAyB,EAAEA,KAAK,CAAC;IACjD;EACF,CAAC;EAED,MAAMI,0BAA0B,GAAIC,CAAC,IAAK;IACxC,MAAMF,cAAc,GAAGE,CAAC,CAACC,MAAM,CAACC,KAAK;IACrCvB,yBAAyB,CAACmB,cAAc,CAAC;IACzCjB,UAAU,CAAC,EAAE,CAAC,CAAC,CAAC;IAChBgB,YAAY,CAACC,cAAc,CAAC,CAAC,CAAC;EAChC,CAAC;EAED,MAAMK,YAAY,GAAG,MAAOH,CAAC,IAAK;IAChCA,CAAC,CAACI,cAAc,CAAC,CAAC;IAClB,IAAI;MACF,MAAMb,QAAQ,GAAG,MAAMC,KAAK,CAAC,+CAA+C,EAAE;QAC5Ea,MAAM,EAAE,MAAM;QACdC,OAAO,EAAE;UACP,cAAc,EAAE;QAClB,CAAC;QACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;UACnBC,SAAS,EAAE5B,cAAc;UACzB6B,UAAU,EAAE,CAAC;UAAE;UACfC,gBAAgB,EAAE5B,eAAe;UACjCE,KAAK,EAAEA;QACT,CAAC;MACH,CAAC,CAAC;MAEF,IAAIK,QAAQ,CAACsB,EAAE,EAAE;QACfxB,UAAU,CAAC,qCAAqC,CAAC;MACnD,CAAC,MAAM;QACL,MAAMyB,SAAS,GAAG,MAAMvB,QAAQ,CAACG,IAAI,CAAC,CAAC;QACvCL,UAAU,CAACyB,SAAS,CAAC1B,OAAO,IAAI,gCAAgC,CAAC;MACnE;IACF,CAAC,CAAC,OAAOO,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,+BAA+B,EAAEA,KAAK,CAAC;MACrDN,UAAU,CAAC,sCAAsC,CAAC;IACpD;EACF,CAAC;EAED,oBACEhB,OAAA;IAAA0C,QAAA,gBACE1C,OAAA;MAAA0C,QAAA,EAAI;IAAmB;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,EAC3B/B,OAAO,iBAAIf,OAAA;MAAA0C,QAAA,EAAI3B;IAAO;MAAA4B,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,eAC5B9C,OAAA;MAAM+C,QAAQ,EAAEjB,YAAa;MAAAY,QAAA,gBAC3B1C,OAAA;QAAA0C,QAAA,gBACE1C,OAAA;UAAA0C,QAAA,EAAO;QAAe;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAO,CAAC,eAC9B9C,OAAA;UAAQ6B,KAAK,EAAExB,sBAAuB;UAAC2C,QAAQ,EAAEtB,0BAA2B;UAAAgB,QAAA,gBAC1E1C,OAAA;YAAQ6B,KAAK,EAAC,EAAE;YAAAa,QAAA,EAAC;UAAuB;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,EAChD3C,eAAe,CAAC8C,GAAG,CAAEC,IAAI,iBACxBlD,OAAA;YAAmB6B,KAAK,EAAEqB,IAAK;YAAAR,QAAA,EAC5BQ;UAAI,GADMA,IAAI;YAAAP,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAET,CACT,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACI,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACN,CAAC,eAEN9C,OAAA;QAAA0C,QAAA,gBACE1C,OAAA;UAAA0C,QAAA,EAAO;QAAO;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAO,CAAC,eACtB9C,OAAA;UACE6B,KAAK,EAAEpB,cAAe;UACtBuC,QAAQ,EAAGrB,CAAC,IAAKjB,iBAAiB,CAACiB,CAAC,CAACC,MAAM,CAACC,KAAK,CAAE;UACnDsB,QAAQ,EAAE,CAAC9C,sBAAuB;UAAAqC,QAAA,gBAElC1C,OAAA;YAAQ6B,KAAK,EAAC,EAAE;YAAAa,QAAA,EAAC;UAAe;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,EACxCvC,OAAO,CAAC0C,GAAG,CAAEG,GAAG,iBACfpD,OAAA;YAAqB6B,KAAK,EAAEuB,GAAG,CAACC,EAAG;YAAAX,QAAA,EAChCU,GAAG,CAACE;UAAI,GADEF,GAAG,CAACC,EAAE;YAAAV,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAEX,CACT,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACI,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACN,CAAC,eAEN9C,OAAA;QAAA0C,QAAA,gBACE1C,OAAA;UAAA0C,QAAA,EAAO;QAAiB;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAO,CAAC,eAChC9C,OAAA;UACEuD,IAAI,EAAC,gBAAgB;UACrB1B,KAAK,EAAElB,eAAgB;UACvBqC,QAAQ,EAAGrB,CAAC,IAAKf,kBAAkB,CAACe,CAAC,CAACC,MAAM,CAACC,KAAK,CAAE;UACpD2B,QAAQ;QAAA;UAAAb,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACT,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACC,CAAC,eAEN9C,OAAA;QAAA0C,QAAA,gBACE1C,OAAA;UAAA0C,QAAA,EAAO;QAAM;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAO,CAAC,eACrB9C,OAAA;UACE6B,KAAK,EAAEhB,KAAM;UACbmC,QAAQ,EAAGrB,CAAC,IAAKb,QAAQ,CAACa,CAAC,CAACC,MAAM,CAACC,KAAK,CAAE;UAC1C4B,WAAW,EAAC;QAA0B;UAAAd,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACvC,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACC,CAAC,eAEN9C,OAAA;QAAQuD,IAAI,EAAC,QAAQ;QAACJ,QAAQ,EAAE,CAAC1C,cAAc,IAAI,CAACE,eAAgB;QAAA+B,QAAA,EAAC;MAErE;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACL,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACJ,CAAC;AAEV;AAAC5C,EAAA,CA/HQD,kBAAkB;AAAAyD,EAAA,GAAlBzD,kBAAkB;AAiI3B,eAAeA,kBAAkB;AAAC,IAAAyD,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}